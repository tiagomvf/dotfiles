# tmux-sessions.conf
# Default windows configuration for ALL new tmux sessions
# Source this file from ~/.tmux.conf

# ============================================
# Default Windows Configuration
# ============================================
# This hook automatically creates 4 default windows for ALL new sessions:
# 1. editor   - Main editing/development window (window 1, active)
# 2. agent    - Background processes/agents (window 2)
# 3. process  - Process monitoring/logs (window 3)
# 4. scratch  - Temporary/scratch work (window 4)

# Hook execution order:
# 1. Session is created with 1 window
# 2. Hook[0-1]:  Disable auto-rename and rename window 1 to "editor"
# 3. Hook[2-4]:  Create window 2, disable auto-rename, rename to "agent"
# 4. Hook[5-7]:  Create window 3, disable auto-rename, rename to "process"
# 5. Hook[8-10]: Create window 4, disable auto-rename, rename to "scratch"
# 6. Hook[11]:   Select window 1 ("editor") as active

# Window 1: editor
set-hook -g after-new-session[0] 'run-shell "tmux rename-window -t #{session_name}:1 editor"'

# Window 2: agent
set-hook -g after-new-session[1] 'run-shell "tmux new-window -t #{session_name}:#{last_window_index} -n agent -a"'

# Window 3: process
set-hook -g after-new-session[2] 'run-shell "tmux new-window -t #{session_name}:#{last_window_index} -n process -a"'

# Window 4: scratch
set-hook -g after-new-session[3] 'run-shell "tmux new-window -t #{session_name}:#{last_window_index} -n scratch -a"'

# Return to first window (editor)
set-hook -g after-new-session[4] 'run-shell "tmux select-window -t #{session_name}:1"'

# ============================================
# Notes:
# ============================================
# 1. Applies to ALL new sessions:
#    - tmux                         (unnamed/numeric session)
#    - tmux new-session             (unnamed/numeric session)
#    - tmux new-session -s <name>   (named session)
#    - tmux new-session -n <window> (custom window name - WILL be renamed to "editor")
#
# 2. Does NOT apply to:
#    - Existing sessions
#    - New windows in existing sessions (Prefix + c)
#    - Session cloning (new-session -t) - may have unexpected results
#
# 3. Window flags in list-windows output:
#    * = active window
#    - = "last" window flag (normal tmux behavior)
#
# 4. To override default windows:
#    - Create session then manually rename/delete windows
#    - Or modify this configuration for specific use cases
#
# 5. Working directories:
#    - All windows inherit the directory where tmux was started
#    - To customize, add -c <directory> to new-window commands
